{"version":3,"sources":["/Users/gziolo/PhpstormProjects/gutenberg/packages/compose/src/remount-on-prop-change/index.js"],"names":["Component","createHigherOrderComponent","remountOnPropChange","propName","WrappedComponent","props","arguments","state","propChangeId","propValue"],"mappings":";;;;;;;;AAAA;;;AAGA,SAASA,SAAT,QAA0B,oBAA1B;AAEA;;;;AAGA,OAAOC,0BAAP,MAAuC,kCAAvC;AAEA;;;;;;;;;AAQA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAEC,QAAF;AAAA,SAAgBF,0BAA0B,CACrE,UAAEG,gBAAF;AAAA;AAAA;AAAA;AAAA;;AACC,wBAAaC,KAAb,EAAqB;AAAA;;AAAA;;AACpB,uFAAUC,SAAV;AACA,gBAAKC,KAAL,GAAa;AACZC,YAAAA,YAAY,EAAE,CADF;AAEZC,YAAAA,SAAS,EAAEJ,KAAK,CAAEF,QAAF;AAFJ,WAAb;AAFoB;AAMpB;;AAPF;AAAA;AAAA,mCAoBU;AACR,mBAAO,cAAC,gBAAD;AAAkB,cAAA,GAAG,EAAG,KAAKI,KAAL,CAAWC;AAAnC,eAAuD,KAAKH,KAA5D,EAAP;AACA;AAtBF;AAAA;AAAA,mDASkCA,KATlC,EASyCE,KATzC,EASiD;AAC/C,gBAAKF,KAAK,CAAEF,QAAF,CAAL,KAAsBI,KAAK,CAACE,SAAjC,EAA6C;AAC5C,qBAAO,IAAP;AACA;;AAED,mBAAO;AACND,cAAAA,YAAY,EAAED,KAAK,CAACC,YAAN,GAAqB,CAD7B;AAENC,cAAAA,SAAS,EAAEJ,KAAK,CAAEF,QAAF;AAFV,aAAP;AAIA;AAlBF;;AAAA;AAAA,QAAsCH,SAAtC;AAAA;AAAA,GADqE,EAyBrE,qBAzBqE,CAA1C;AAAA,CAA5B;;AA4BA,eAAeE,mBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport createHigherOrderComponent from '../create-higher-order-component';\n\n/**\n * Higher-order component creator, creating a new component that remounts\n * the wrapped component each time a given prop value changes.\n *\n * @param {string} propName Prop name to monitor.\n *\n * @return {Function} Higher-order component.\n */\nconst remountOnPropChange = ( propName ) => createHigherOrderComponent(\n\t( WrappedComponent ) => class extends Component {\n\t\tconstructor( props ) {\n\t\t\tsuper( ...arguments );\n\t\t\tthis.state = {\n\t\t\t\tpropChangeId: 0,\n\t\t\t\tpropValue: props[ propName ],\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps( props, state ) {\n\t\t\tif ( props[ propName ] === state.propValue ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpropChangeId: state.propChangeId + 1,\n\t\t\t\tpropValue: props[ propName ],\n\t\t\t};\n\t\t}\n\n\t\trender() {\n\t\t\treturn <WrappedComponent key={ this.state.propChangeId } { ...this.props } />;\n\t\t}\n\t},\n\t'remountOnPropChange'\n);\n\nexport default remountOnPropChange;\n"]}